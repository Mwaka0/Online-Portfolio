---
import MainLayout from "../../layouts/mainLayout.astro";

export async function getStaticPaths() {
  return {
    paths: [
      { params: { projects: "proj1" } },
      { params: { projects: "proj2" } },
      { params: { projects: "proj3" } },
      { params: { projects: "proj4" } },
    ],
    fallback: false, 
  };
}

export async function getStaticProps({ params }) {
  const projectData = {
    proj1: {
      name: "Selkies And Munros",
      desc: "A snakes in ladders terminal game with extra abilities on certain spaces",
    },
    proj2: { name: "Project 2", desc: "Some sort of description" },
    proj3: { name: "Project 3", desc: "Some sort of description" },
    proj4: { name: "Project 4", desc: "Some sort of description" },
  };

  const project = projectData[params.projects];
  console.log(project);
  
  if (!project) {
    return {
      notFound: true,  
    };
  }
  return { props: project };
}

const { name, desc } = Astro.props;
const { projects } = Astro.params;

console.log("Project:", projects);
console.log("Name:", name);
console.log("Description:", desc);
---

<MainLayout 
  title={name}
  seoTitle={"Dylan Mwakasekele, Software Engineer Online Portfolio"} 
  seoDescription={"2nd Year BSc Computing Science Student at the University of Dundee"}>
  
  <section class="mx-auto w-3/6">
    <img
      src={`/images/${projects}.png`}
      width="600"
      height="600"
      class="rounded content-center"
    />
    <h1 class="font-bold mt-4">Project {name}</h1>
    <p>{desc}</p>
    <section></section>
  </section>

</MainLayout>